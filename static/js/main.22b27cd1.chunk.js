(this.webpackJsonpmusic=this.webpackJsonpmusic||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/gallery.f7323948.png"},119:function(e,t,a){e.exports=a.p+"static/media/url.76ef0a53.png"},120:function(e,t,a){e.exports=a.p+"static/media/vkD.4fb03eaf.png"},123:function(e){e.exports=JSON.parse('{"name":"music","version":"1.6.1","description":"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0439 \u0431\u044b\u0441\u0442\u0440\u043e \u0438 \u0443\u0434\u043e\u0431\u043d\u043e \u0444\u0430\u0439\u043b\u044b, \u043b\u044e\u0431\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430!","main":"index.js","homepage":"https://dan0102dan.github.io/music","scripts":{"start":"cross-env PORT=10888 react-scripts start","build":"react-scripts build","predeploy":"npm run build","deploy":"gh-pages -d build"},"keywords":[],"author":"","license":"MIT","devDependencies":{"babel-eslint":"^10.1.0","cross-env":"^5.2.1","eslint":"^6.6.0","eslint-config-standard":"^14.1.1","eslint-plugin-import":"^2.22.0","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-react":"^7.20.6","eslint-plugin-standard":"^4.0.1","gh-pages":"^3.1.0","react-hot-loader":"^4.12.21","react-scripts":"^3.4.2"},"dependencies":{"@vkontakte/icons":"^1.32.0","@vkontakte/vk-bridge":"^2.2.6","@vkontakte/vk-miniapps-deploy":"0.0.17","@vkontakte/vkui":"^3.12.0","axios-jsonp-pro":"^1.1.8","chalk":"^2.4.2","core-js":"^3.6.5","eruda":"^2.3.3","eruda-code":"^2.0.0","eruda-dom":"^2.0.0","jimp":"^0.16.0","prop-types":"^15.7.2","react":"^16.13.1","react-dom":"^16.13.1","react-masonry-layout":"^0.4.0"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},124:function(e,t,a){e.exports=a.p+"static/media/intro1.24513e42.png"},125:function(e,t,a){e.exports=a.p+"static/media/intro2.b1385481.png"},170:function(e,t,a){e.exports=a(286)},278:function(e,t,a){e.exports=a.p+"static/media/heic.a198dea3.png"},279:function(e,t,a){e.exports=a.p+"static/media/jpeg.7761c77a.png"},280:function(e,t,a){e.exports=a.p+"static/media/png.7d9b788b.png"},281:function(e,t,a){e.exports=a.p+"static/media/gif.4be088ba.png"},282:function(e,t,a){e.exports=a.p+"static/media/pdf.a5b0f44b.png"},283:function(e,t,a){e.exports=a.p+"static/media/hdr.90637a29.png"},284:function(e,t,a){e.exports=a.p+"static/media/svg.12b5cd0c.png"},285:function(e,t,a){},286:function(e,t,a){"use strict";a.r(t);a(171),a(197),a(199),a(200),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239);var n=a(0),r=a.n(n),o=a(100),s=a.n(o),i=a(7),l=a.n(i),c=a(39),u=a(40),m=a(49),p=a(42),d=a(41),f=a(3),g=a(113),h=a.n(g),v=a(114),b=a.n(v),y=(a(257),a(126)),k=a(11),E=a.n(k),x=a(23),S=a(52),w=a.n(S),P=a(115),V=a.n(P),j=a(116),_=a.n(j),T=a(117),z=a.n(T),C=a(38),N=a.n(C),A=a(43),K=a.n(A),O=a(118),B=a.n(O),W=a(119),D=a.n(W),I=a(120),L=a.n(I),F={heic:a(278),jpeg:a(279),png:a(280),gif:a(281),pdf:a(282),hdr:a(283),svg:a(284)},R=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).goBack=function(){var e=n.state.history;"bus"===n.state.activePanel&&l.a.send("VKWebAppDisableSwipeBack"),e.length>1&&(e.pop(),"home"===e[e.length-1]&&(n.props.setTabbar(!0),document.documentElement.style.setProperty("--padding","calc(var(--safe-area-inset-bottom) + var(--tabbar_height))"),document.documentElement.style.setProperty("--bottom","calc(var(--tabbar_height) + var(--safe-area-inset-bottom))"),n.closePopout()),["VKPhotos","home"].includes(e[e.length-1])&&n.setState({file:{},value:"",fileName:"",activeValue:"",width:"",height:""}),n.setState({activePanel:e[e.length-1]}))},n.download=Object(x.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.closePopout(),"browser"===n.state.vk_platform){e.next=7;break}return e.next=4,l.a.send("VKWebAppStorageGet",{keys:["transfers","size"]});case 4:t=e.sent,l.a.send("VKWebAppStorageSet",{key:"transfers",value:"".concat(Number(null===t||void 0===t?void 0:t.keys[0].value)+1)}),l.a.send("VKWebAppStorageSet",{key:"size",value:"".concat(Number(null===t||void 0===t?void 0:t.keys[1].value)+n.state.file.size)});case 7:if(!["mobile_iphone","mobile_iphone_messenger"].includes(n.state.vk_platform)){e.next=12;break}l.a.send("VKWebAppDownloadFile",{url:n.state.link,filename:n.state.fileName+"."+n.state.value}).then((function(){return n.openSuccess()})).catch(Object(x.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppStorageGet",{keys:["notifications"]});case 2:a=e.sent,console.log(typeof(null===a||void 0===a||null===(t=a.keys[0])||void 0===t?void 0:t.value)),"true"===a.keys[0].value?n.openSuccess():n.openError();case 5:case"end":return e.stop()}}),e)})))),l.a.send("VKWebAppTapticNotificationOccurred",{type:"error"}),e.next=25;break;case 12:if(!["mobile_android","mobile_android_messenger"].includes(n.state.vk_platform)){e.next=16;break}n.openSuccess(),e.next=25;break;case 16:return a=document.createElement("a"),e.next=19,n.state.link;case 19:return a.href=e.sent,a.download=n.state.fileName+"."+n.state.value,a.target="_blank",e.next=24,a.click();case 24:n.openSuccess();case 25:case"end":return e.stop()}}),e)}))),n.closePopout=function(){n.props.setPopout(null)},n.state={activePanel:"home",history:["home"],file:{},value:"",activeValue:"",link:"",fileName:"",userLink:"",snackbar:null,vk_platform:"browser",slideIndex:0,ownSetting:!1,VKPhotos:[],height:"",width:""},n}return Object(u.a)(a,[{key:"goToPage",value:function(e){window.history.pushState({panel:e},e),"bus"===this.state.activePanel&&l.a.send("VKWebAppEnableSwipeBack"),this.setState({activePanel:e,history:[].concat(Object(y.a)(this.state.history),[e])})}},{key:"openSuccess",value:function(){var e=this;this.setState({snackbar:r.a.createElement(f.x,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:r.a.createElement(f.b,{size:24,style:{backgroundColor:"var(--accent)"}},r.a.createElement(N.a,{fill:"#fff",width:14,height:14}))},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438!")})}},{key:"openError",value:function(){var e=this;this.setState({snackbar:r.a.createElement(f.x,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:r.a.createElement(f.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #fc7373, #cb5e5a)"}},r.a.createElement(K.a,{fill:"#fff",width:14,height:14}))},"\u041e\u0448\u0438\u0431\u043a\u0430")})}},{key:"openDoesntLink",value:function(){var e=this;this.setState({snackbar:r.a.createElement(f.x,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:r.a.createElement(f.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #EC9F05, #FF4E00)"}},r.a.createElement(K.a,{fill:"#fff",width:14,height:14}))},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435")})}},{key:"openBigSize",value:function(){var e=this;this.setState({snackbar:r.a.createElement(f.x,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:r.a.createElement(f.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #fc7373, #cb5e5a)"}},r.a.createElement(K.a,{fill:"#fff",width:14,height:14}))},"\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 40 \u041c\u0411")})}},{key:"componentDidMount",value:function(){var e=this;if(window.addEventListener("popstate",(function(){return e.goBack()})),window.location.search){var t=window.location.search.match(/vk_platform=([a-z_]+)/);this.setState({vk_platform:t[1].toString()})}}},{key:"exportPhoto",value:function(){var e=Object(x.a)(E.a.mark((function e(){var t,a,n,o,s,i,c,u=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.setPopout(r.a.createElement(f.v,null)),a="https://converter.dan0102dan.ru/".concat(this.state.value),(n=new FormData).append("file",this.state.file),!window.location.search){e.next=12;break}return s=window.location.search.slice(1),e.next=8,l.a.send("VKWebAppStorageGet",{keys:["notifications"]}).catch((function(){return o={keys:[{value:!1}]}}));case 8:o=e.sent,""===(null===(i=o)||void 0===i?void 0:i.keys[0].value)&&(o={keys:[{value:!1}]}),e.next=14;break;case 12:s="null",o={keys:[{value:!1}]};case 14:return n.append("sign",s),n.append("fileName",this.state.fileName),n.append("notifications",null===(t=o)||void 0===t?void 0:t.keys[0].value),n.append("size",[0!==this.state.height.length?this.state.height:null,0!==this.state.width.length?this.state.width:null]),c={responseType:"blob",headers:{"content-type":"multipart/form-data"}},"cors",e.prev=20,e.next=23,w.a.post(a,n,c,"cors").then(function(){var e=Object(x.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.data),"application/json"!==t.data.type){e.next=6;break}return console.log("authorization error"),u.closePopout(),u.goBack(),e.abrupt("return");case 6:if("text/html"!==t.data.type){e.next=12;break}return u.closePopout(),u.goBack(),u.setState({file:{},value:"",fileName:"",activeValue:""}),u.openError(),e.abrupt("return");case 12:return(a=new FileReader).onloadend=Object(x.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.setState({link:a.result},u.download);case 1:case"end":return e.stop()}}),e)}))),e.next=16,a.readAsDataURL(t.data);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(20),this.props.setPopout(r.a.createElement(f.a,{actionsLayout:"vertical",actions:[{title:"Ok",autoclose:!0,mode:"cancel"}],onClose:this.closePopout},r.a.createElement("h2",null,"\u041f\u043b\u043e\u0445\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),r.a.createElement("p",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0412\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f; \u0432 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441.")));case 28:case"end":return e.stop()}}),e,this,[[20,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(f.s,{id:this.id},r.a.createElement(f.i,{scheme:document.body.getAttribute("scheme")?document.body.getAttribute("scheme"):"bright_light"},r.a.createElement(f.E,{activePanel:this.state.activePanel,history:this.state.history,onSwipeBack:this.goBack},r.a.createElement(f.s,{id:"home"},r.a.createElement(f.t,null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(f.p,null,"\u0413\u0434\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0412\u0430\u0448 \u0444\u0430\u0439\u043b?"),r.a.createElement(f.c,{mode:"image",size:"m",header:"\u0412 \u0424\u043e\u0442\u043e",subheader:r.a.createElement("span",null,"\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0433\u0430\u043b\u0435\u0440\u0435\u044e",r.a.createElement("br",null),"\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e"),background:r.a.createElement("div",{style:{backgroundColor:"#1e065f",backgroundImage:"url(".concat(B.a,")"),backgroundPosition:"right center",backgroundSize:"95%",backgroundRepeat:"no-repeat"}}),actions:r.a.createElement(f.l,{style:{cursor:"pointer"},mode:"overlay_primary",accept:"image/*",before:r.a.createElement(V.a,null),controlSize:"l",onChange:function(t){var a;if(console.log(t.target.files[0]),(null===(a=t.target.files[0])||void 0===a?void 0:a.size)>4e7)e.openBigSize();else try{if("image/png"===t.target.files[0].type)e.setState({activeValue:"png",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)");else if("image/heic"===t.target.files[0].type)e.setState({activeValue:"heic",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-5)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)");else if("image/jpeg"===t.target.files[0].type){var n=t.target.files[0].name;n=n.match(/\.jpeg$/)?n.slice(0,-5):n.slice(0,-4),e.setState({activeValue:"jpeg",file:t.target.files[0],fileName:n}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")}else"image/gif"===t.target.files[0].type?(e.setState({activeValue:"gif",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/pdf"===t.target.files[0].type?(e.setState({activeValue:"pdf",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/hdr"===t.target.files[0].type?(e.setState({activeValue:"hdr",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/svg+xml"===t.target.files[0].type?(e.setState({activeValue:"svg",file:t.target.files[0],fileName:t.target.files[0].name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):(e.closePopout(),e.openDoesntLink());t.target.value=null}catch(r){e.openError(),e.setState({file:{},value:"",fileName:"",activeValue:""}),e.goBack()}}},["browser","desktop_web","mobile_web"].includes(this.state.vk_platform)?"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0433\u0430\u043b\u0435\u0440\u0435\u044e")}),r.a.createElement(f.c,{mode:"image",size:"m",header:"\u0412 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435",subheader:r.a.createElement("span",null,"\u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443",r.a.createElement("br",null),"\u0438 \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0432 \u043e\u043a\u043d\u043e"),background:r.a.createElement("div",{style:{backgroundColor:"#56005f",backgroundImage:"url(".concat(D.a,")"),backgroundPosition:"right center",backgroundSize:"95%",backgroundRepeat:"no-repeat"}}),actions:r.a.createElement(f.d,{style:{backgroundColor:"#fff",color:"#000",cursor:"pointer"},before:r.a.createElement(_.a,null),size:"l",onClick:function(){e.props.setPopout(r.a.createElement(f.a,{onSwipeBack:e.props.setPopout(null),actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"},{title:"\u0414\u0430\u043b\u0435\u0435",autoclose:!0,action:function(){var t=Object(x.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.setPopout(r.a.createElement(f.v,null)),t.prev=1,t.next=4,fetch("https://cors-anywhere.herokuapp.com/".concat(e.state.userLink)).then(function(){var e=Object(x.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){for(var t="",a="abcdefghiklmnopqrstuvwxyz".length,n=0;n<e;n++)t+="abcdefghiklmnopqrstuvwxyz".charAt(Math.floor(Math.random()*a));return t},e.next=3,t.blob();case 3:(n=e.sent).name=a(10),n.lastModified=Date.now(),n.webkitRelativePath="";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e.props.setPopout(r.a.createElement(f.a,{actionsLayout:"vertical",actions:[{title:"Ok",autoclose:!0,mode:"cancel"}],onClose:e.closePopout},r.a.createElement("h2",null,"\u041f\u043b\u043e\u0445\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),r.a.createElement("p",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0412\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f; \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441.")));case 9:if(e.closePopout(),!((null===(a=n)||void 0===a?void 0:a.size)>4e7)){t.next=13;break}return e.openBigSize(),t.abrupt("return");case 13:try{"image/png"===n.type?(e.setState({activeValue:"png",file:n,fileName:n.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/heic"===n.type?(e.setState({activeValue:"heic",file:n,fileName:n.name.slice(0,-5)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/jpeg"===n.type?(e.setState({activeValue:"jpeg",file:n,fileName:n.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/gif"===n.type?(e.setState({activeValue:"gif",file:n,fileName:n.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/pdf"===n.type?(e.setState({activeValue:"pdf",file:n,fileName:n.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/hdr"===n.type?(e.setState({activeValue:"hdr",file:n,fileName:n.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/svg+xml"===n.type?(e.setState({activeValue:"svg",file:n,fileName:n.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):(e.closePopout(),e.openDoesntLink()),n=null}catch(o){e.openError(),e.setState({file:{},value:"",fileName:"",activeValue:""}),e.goBack()}case 14:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}()}],onClose:e.closePopout},r.a.createElement("h2",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443"),r.a.createElement("p",null,"\u0414\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0430\u0439\u043b, \u0433\u0434\u0435 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u0432\u0435\u0441\u0442\u0438 \u043b\u043e\u0433\u0438\u043d/\u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(f.q,{style:{marginTop:16,marginBottom:-7},onChange:function(t){e.setState({userLink:t.target.value})},type:"text"})))}},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443")}),r.a.createElement(f.c,{mode:"image",size:"m",header:"\u0412 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445 VK",subheader:r.a.createElement("span",null,"\u0414\u0430\u0439\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c",r.a.createElement("br",null),"\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e"),background:r.a.createElement("div",{style:{backgroundColor:"#384aa0",backgroundImage:"url(".concat(L.a,")"),backgroundPosition:"right center",backgroundSize:"100%",backgroundRepeat:"no-repeat"}}),actions:r.a.createElement(f.d,{style:{backgroundColor:"#fff",color:"#000",cursor:"pointer"},before:r.a.createElement(z.a,null),size:"l",onClick:Object(x.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.send("VKWebAppGetAuthToken",{app_id:7561776,scope:"docs"}).catch((function(){e.openError()}));case 2:if(!(null===(a=t.sent)||void 0===a?void 0:a.access_token)){t.next=11;break}return t.next=6,l.a.send("VKWebAppCallAPIMethod",{method:"docs.get",params:{type:"4",v:"5.122",access_token:a.access_token}}).catch((function(){e.openError()}));case 6:(n=t.sent).response.items.sort((function(e,t){return e.preview?-1:0})),n.response.count>0?(e.setState({VKPhotos:n.response.items}),e.goToPage("VKPhotos"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):e.openDoesntLink(),t.next=12;break;case 11:e.openError();case 12:case"end":return t.stop()}}),t)})))},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442")}),this.state.snackbar),r.a.createElement(f.s,{id:"VKPhotos"},r.a.createElement(f.t,{left:r.a.createElement(f.u,{style:{cursor:"pointer"},onClick:function(){e.goBack(),e.props.setTabbar(!0),document.documentElement.style.setProperty("--padding","calc(var(--safe-area-inset-bottom) + var(--tabbar_height))"),document.documentElement.style.setProperty("--bottom","calc(var(--tabbar_height) + var(--safe-area-inset-bottom))")}})},"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 VK"),this.state.VKPhotos?r.a.createElement(f.g,{style:{marginTop:0,marginBottom:16}},this.state.VKPhotos.map((function(t){var a,n,o,s,i,l,c,u,m,p,d,g,h,v,b,y,k,S;return r.a.createElement(f.f,{style:{marginRight:4,marginLeft:0},size:"m",onClick:function(){var t=Object(x.a)(E.a.mark((function t(a){var n,o,s,i,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.setPopout(r.a.createElement(f.v,null)),s=a.currentTarget.dataset.mode.split("|"),i=e.state.VKPhotos.find((function(e){return e.id===Number(s[1])})),t.next=5,fetch("https://cors-anywhere.herokuapp.com/".concat(i.url)).then(function(){var e=Object(x.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.blob();case 2:return e.abrupt("return",o=e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return e.props.setPopout(r.a.createElement(f.a,{actionsLayout:"vertical",actions:[{title:"Ok",autoclose:!0,mode:"cancel"}],onClose:e.closePopout},r.a.createElement("h2",null,"\u041f\u043b\u043e\u0445\u043e\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"),r.a.createElement("p",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0412\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f; \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441.")))}));case 5:if(e.closePopout(),"application/octet-stream"!==o.type){t.next=10;break}return t.next=9,new Blob([o],{type:"svg"===i.ext?"image/svg+xml":i.ext});case 9:o=t.sent;case 10:if(o.name=i.title,o.lastModified=i.date,!((null===(n=o)||void 0===n?void 0:n.size)>4e7)){t.next=15;break}return e.openBigSize(),t.abrupt("return");case 15:try{"image/png"===o.type?(e.setState({activeValue:"png",file:o,fileName:o.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/heic"===o.type?(e.setState({activeValue:"heic",file:o,fileName:o.name.slice(0,-5)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/jpeg"===o.type?(l=(l=o.name).match(/\.jpeg$/)?l.slice(0,-5):l.slice(0,-4),e.setState({activeValue:"jpeg",file:o,fileName:l}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/gif"===o.type?(e.setState({activeValue:"gif",file:o,fileName:o.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/pdf"===o.type?(e.setState({activeValue:"pdf",file:o,fileName:o.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/hdr"===o.type?(e.setState({activeValue:"hdr",file:o,fileName:o.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):"image/svg+xml"===o.type?(e.setState({activeValue:"svg",file:o,fileName:o.name.slice(0,-4)}),e.goToPage("export"),e.props.setTabbar(null),document.documentElement.style.setProperty("--padding","0"),document.documentElement.style.setProperty("--bottom","var(--safe-area-inset-bottom)")):(e.closePopout(),e.openDoesntLink()),o=null}catch(c){e.openError(),e.setState({file:{},value:"",fileName:"",activeValue:""}),e.goBack()}case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),"data-mode":t.owner_id+"|"+t.id,key:t.id},r.a.createElement(f.j,null,r.a.createElement(f.D,{style:{marginRight:"auto",marginLeft:"auto"},level:"3",weight:"semibold"},t.title),(null===t||void 0===t||null===(a=t.preview)||void 0===a||null===(n=a.photo)||void 0===n||null===(o=n.sizes[5])||void 0===o?void 0:o.src)?r.a.createElement("img",{src:t.preview.photo.sizes[5].src,alt:"",style:{height:"10vh",width:"100%",objectFit:"contain"}}):(null===t||void 0===t||null===(s=t.preview)||void 0===s||null===(i=s.photo)||void 0===i||null===(l=i.sizes[4])||void 0===l?void 0:l.src)?r.a.createElement("img",{src:t.preview.photo.sizes[4].src,alt:"",style:{height:"10vh",width:"100%",objectFit:"contain"}}):(null===t||void 0===t||null===(c=t.preview)||void 0===c||null===(u=c.photo)||void 0===u||null===(m=u.sizes[3])||void 0===m?void 0:m.src)?r.a.createElement("img",{src:t.preview.photo.sizes[3].src,alt:"",style:{height:"10vh",width:"100%",objectFit:"contain"}}):(null===t||void 0===t||null===(p=t.preview)||void 0===p||null===(d=p.photo)||void 0===d||null===(g=d.sizes[2])||void 0===g?void 0:g.src)?r.a.createElement("img",{src:t.preview.photo.sizes[2].src,alt:"",style:{height:"10vh",width:"100%",objectFit:"contain"}}):(null===t||void 0===t||null===(h=t.preview)||void 0===h||null===(v=h.photo)||void 0===v||null===(b=v.sizes[1])||void 0===b?void 0:b.src)?r.a.createElement("img",{src:t.preview.photo.sizes[1].src,alt:"",style:{height:"10vh",width:"100%",objectFit:"contain"}}):(null===t||void 0===t||null===(y=t.preview)||void 0===y||null===(k=y.photo)||void 0===k||null===(S=k.sizes[0])||void 0===S?void 0:S.src)?r.a.createElement("img",{src:t.preview.photo.sizes[0].src,alt:"",style:{height:"10vh",width:"100%",objectFit:"contain"}}):null,r.a.createElement(f.C,{style:{marginTop:3},weight:"regular"},"\u0420\u0430\u0437\u043c\u0435\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f: ",(t.size/1e6).toFixed(3)," \u041c\u0411")))}))):r.a.createElement(f.D,{style:{marginLeft:16,marginTop:16},level:"2",weight:"medium"},"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),this.state.snackbar),r.a.createElement(f.s,{id:"export"},r.a.createElement(f.t,{left:r.a.createElement(f.u,{style:{cursor:"pointer"},onClick:function(){e.goBack(),e.props.setTabbar(!0),document.documentElement.style.setProperty("--padding","calc(var(--safe-area-inset-bottom) + var(--tabbar_height))"),document.documentElement.style.setProperty("--bottom","calc(var(--tabbar_height) + var(--safe-area-inset-bottom))")}})},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f"),this.state.file.name&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%",height:"22vh",marginTop:16}},r.a.createElement("img",{src:URL.createObjectURL(this.state.file),alt:"",style:{height:"22vh",width:"100%",objectFit:"contain"}})),this.state.file.name&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:16}},r.a.createElement(f.p,{style:{marginRight:-3}},"\u0418\u0437"),r.a.createElement(f.q,{disabled:!0,type:"text",defaultValue:["image/heic","image/jpeg"].includes(this.state.file.type)&&this.state.file.name.match(/\.jpeg$/)?this.state.file.name.slice(0,-5):this.state.file.name.slice(0,-4)}),r.a.createElement("img",{src:F[this.state.activeValue],alt:"",style:{marginLeft:7,height:"44px"}})),r.a.createElement(f.m,null,r.a.createElement(f.w,{onChange:function(t){e.setState({value:t.target.value}),["mobile_iphone","mobile_iphone_messenger"].includes(e.state.vk_platform)&&l.a.send("VKWebAppTapticSelectionChanged",{})},top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0430\u0442"},"jpeg"===this.state.activeValue?null:r.a.createElement("option",{value:"jpeg"},"jpeg"),"png"===this.state.activeValue?null:r.a.createElement("option",{value:"png"},"png"),"pdf"===this.state.activeValue?null:r.a.createElement("option",{value:"pdf"},"pdf"),"hdr"===this.state.activeValue?null:r.a.createElement("option",{value:"hdr"},"hdr"),"gif"===this.state.activeValue?null:r.a.createElement("option",{value:"gif"},"gif"))),this.state.value&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:4,marginBottom:4}},r.a.createElement("div",{style:{widht:"50%",marginLeft:12,marginRight:4}},r.a.createElement(f.q,{type:"number",placeholder:"\u0428\u0438\u0440\u0438\u043d\u0430",value:this.state.width,max:1e4,status:0!==this.state.width.length?"valid":null,onChange:function(t){t.target.value>1e4&&(t.target.value=1e4),t.target.value<0&&(t.target.value=0),e.setState({width:t.target.value})}})),r.a.createElement("div",{style:{widht:"50%",marginRight:12,marginLeft:4}},r.a.createElement(f.q,{type:"number",placeholder:"\u0412\u044b\u0441\u043e\u0442\u0430",value:this.state.height,max:1e4,status:0!==this.state.height.length?"valid":null,onChange:function(t){t.target.value>1e4&&(t.target.value=1e4),t.target.value<0&&(t.target.value=0),e.setState({height:t.target.value})}}))),this.state.value&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:16,marginBottom:16}},r.a.createElement(f.p,{style:{marginRight:-3}},"\u0412"),r.a.createElement(f.q,{type:"text",onChange:function(t){return e.setState({fileName:t.target.value})},value:this.state.fileName,status:0!==this.state.fileName.length&&this.state.fileName.length<255?"valid":"error"}),r.a.createElement("img",{src:F[this.state.value],alt:"",style:{marginLeft:7,height:"44px"}})),this.state.value&&0!==this.state.fileName.length&&this.state.fileName.length<255&&r.a.createElement(f.j,null,["mobile_iphone","mobile_iphone_messenger"].includes(this.state.vk_platform)?r.a.createElement(f.d,{mode:"commerce",size:"xl",onClick:Object(x.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.exportPhoto();case 2:case"end":return t.stop()}}),t)})))},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0432 ",this.state.value):r.a.createElement(f.d,{style:{cursor:"pointer"},mode:"commerce",size:"xl",onClick:Object(x.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("browser"===e.state.vk_platform){t.next=15;break}if(!["mobile_android","mobile_android_messenger"].includes(e.state.vk_platform)){t.next=15;break}return t.prev=2,t.next=5,l.a.send("VKWebAppAllowMessagesFromGroup",{group_id:151064772});case 5:if(!0!==t.sent.result){t.next=9;break}return t.next=9,l.a.send("VKWebAppStorageSet",{key:"notifications",value:"true"});case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(2),e.openError(),t.abrupt("return");case 15:return t.next=17,e.exportPhoto();case 17:case"end":return t.stop()}}),t,null,[[2,11]])})))},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0432 ",this.state.value)),this.state.snackbar))))}}]),a}(r.a.Component),G=a(121),M=a.n(G),q=a(122),J=a.n(q),U=a(53),$=a.n(U),H=a(123),Q=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={activePanel:"profile",vk_platform:"",files_count:r.a.createElement(f.y,{size:"small"}),files_size:r.a.createElement(f.y,{size:"small"}),subscriber:!1,notifications:!1,snackbar:null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(E.a.mark((function e(){var t,a,n,r,o,s,i,c=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.location.search){e.next=30;break}return t=window.location.search.match(/vk_platform=([a-z_]+)/),e.next=4,l.a.send("VKWebAppStorageGet",{keys:["notifications"]});case 4:return a=e.sent,["true","false"].includes(a.keys[0].value)||(a.keys[0].value="false"),this.setState({vk_platform:t[1].toString()}),n=(n=window.location.search.match(/vk_user_id=([1,2,3,4,5,6,7,8,9,0]+)/))[1].toString(),"https://converter.dan0102dan.ru/vk",r=new FormData,o="browser"!==this.state.vk_platform?window.location.search.slice(1):"null",r.append("sign",o),r.append("id",n),"cors",e.next=17,w.a.post("https://converter.dan0102dan.ru/vk",r,"cors").then(function(){var e=Object(x.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:if(s.data.sign){e.next=23;break}console.log(s.data),s.data.messages?this.setState({notifications:JSON.parse(a.keys[0].value)}):this.setState({notifications:s.data.messages}),this.setState({subscriber:s.data.subscriber}),e.next=25;break;case 23:return console.log(s.data.sign),e.abrupt("return");case 25:return e.next=27,l.a.send("VKWebAppStorageGet",{keys:["transfers","size"]}).catch((function(){return c.setState({files_count:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445",files_size:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})}));case 27:i=e.sent;try{""===i.keys[0].value?this.setState({files_count:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}):isNaN(i.keys[0].value)||this.setState({files_count:i.keys[0].value})}catch(u){this.setState({files_size:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})}try{""===i.keys[1].value?this.setState({files_size:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}):isNaN(i.keys[1].value)||this.setState({files_size:(Number(i.keys[1].value)/1e6).toFixed(3)+" \u041c\u0411"})}catch(m){this.setState({files_size:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})}case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openSuccess",value:function(){var e=this;this.setState({snackbar:r.a.createElement(f.x,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:r.a.createElement(f.b,{size:24,style:{backgroundColor:"var(--accent)"}},r.a.createElement(N.a,{fill:"#fff",width:14,height:14}))},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b!")})}},{key:"openError",value:function(){var e=this;this.setState({snackbar:r.a.createElement(f.x,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:r.a.createElement(f.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #fc7373, #cb5e5a)"}},r.a.createElement(K.a,{fill:"#fff",width:14,height:14}))},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b!")})}},{key:"openThanks",value:function(){var e=this;this.setState({snackbar:r.a.createElement(f.x,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:r.a.createElement(f.b,{size:24,style:{backgroundImage:"linear-gradient(135deg, #ffb73d, #ffa000)"}},r.a.createElement(J.a,{fill:"#fff",width:14,height:14}))},"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443!!")})}},{key:"render",value:function(){var e=this,t=!1;return r.a.createElement(f.s,{id:this.id,snackbar:this.state.snackbar},r.a.createElement(f.E,{activePanel:this.state.activePanel},r.a.createElement(f.s,{id:"profile"},r.a.createElement(f.t,null,"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"),r.a.createElement(f.o,null,r.a.createElement("img",{src:$.a,alt:"",style:{width:"100px",height:"100px",display:"block",marginLeft:"auto",marginRight:"auto",backgroundColor:"#202020",borderRadius:25}}),r.a.createElement(f.e,{level:"1",weight:"regular",style:{marginTop:7,marginBottom:16,textAlign:"center"}},"\u0412\u0435\u0440\u0441\u0438\u044f: ",H.version)),r.a.createElement(f.o,{header:r.a.createElement(f.p,{mode:"secondary"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430")},r.a.createElement(f.r,null,r.a.createElement(f.h,{indicator:this.state.files_count},"\u0412\u0441\u0435\u0433\u043e \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e"),r.a.createElement(f.h,{indicator:this.state.files_size},"\u0420\u0430\u0437\u043c\u0435\u0440 \u0432\u0441\u0435\u0445 \u0444\u0430\u0439\u043b\u043e\u0432"))),r.a.createElement(f.o,null,r.a.createElement(f.h,{asideContent:r.a.createElement(f.z,{checked:!0===this.state.notifications,onChange:function(){var a=Object(x.a)(E.a.mark((function a(n){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!0!==t){a.next=4;break}return a.abrupt("return");case 4:t=!0;case 5:if(!n.target.checked){a.next=23;break}return a.next=8,l.a.send("VKWebAppAllowMessagesFromGroup",{group_id:151064772}).catch((function(){e.openError(),e.setState({notifications:!1})}));case 8:if(!(null===(r=a.sent)||void 0===r?void 0:r.result)){a.next=16;break}return e.setState({notifications:!0}),e.openSuccess(),a.next=14,l.a.send("VKWebAppStorageSet",{key:"notifications",value:"true"});case 14:a.next=20;break;case 16:return e.openError(),e.setState({notifications:!1}),a.next=20,l.a.send("VKWebAppStorageSet",{key:"notifications",value:"false"});case 20:t=!1,a.next=28;break;case 23:return e.openError(),e.setState({notifications:!1}),t=!1,a.next=28,l.a.send("VKWebAppStorageSet",{key:"notifications",value:"false"});case 28:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()})},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e\u0442 \u0431\u043e\u0442\u0430")),r.a.createElement(f.o,null,r.a.createElement(f.h,{description:r.a.createElement("a",{style:{color:"#30ab65",textDecoration:"none"},rel:"noopener noreferrer",href:"https://vk.com/public151064772",target:"_blank"},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"),indicator:this.state.subscriber?r.a.createElement(f.d,{mode:"secondary",disabled:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a"):r.a.createElement(f.d,{style:{cursor:"pointer"},onClick:Object(x.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.send("VKWebAppJoinGroup",{group_id:151064772});case 2:e.setState({subscriber:!0}),e.openThanks();case 4:case"end":return t.stop()}}),t)})))},"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c")},"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e")),r.a.createElement(f.o,null,r.a.createElement(f.d,{style:{cursor:"pointer"},mode:"tertiary",size:"xl",before:r.a.createElement(M.a,null),onClick:function(){return l.a.send("VKWebAppShare",{link:"https://vk.com/app7561776"})}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c")),this.state.snackbar)))}}]),a}(r.a.Component),X=(a(285),a(124)),Y=a.n(X),Z=a(125),ee=a.n(Z),te=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={activeStory:"home",popout:null,tabbar:!0},n.onStoryChange=n.onStoryChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;l.a.subscribe((function(t){var a=t.detail,n=a.type;a.data;"VKWebAppViewHide"===n&&e.setState({popout:null})})),l.a.send("VKWebAppStorageGet",{keys:["greeting"]}).then((function(t){var a;console.log("haveshown",t),""===(null===t||void 0===t||null===(a=t.keys[0])||void 0===a?void 0:a.value)&&(e.setState({activeStory:"greeting",tabbar:null}),document.documentElement.style.setProperty("--padding","0"))})).catch((function(e){return console.log("e",e)}))}},{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story}),l.a.send("VKWebAppTapticSelectionChanged",{})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.k,{activeStory:this.state.activeStory,tabbar:this.state.tabbar?r.a.createElement(f.A,null,r.a.createElement(f.B,{style:{cursor:"pointer"},onClick:this.onStoryChange,selected:"home"===this.state.activeStory,"data-story":"home",text:"home"===this.state.activeStory?"\u0413\u043b\u0430\u0432\u043d\u0430\u044f":null},r.a.createElement(h.a,null)),r.a.createElement(f.B,{style:{cursor:"pointer"},onClick:this.onStoryChange,selected:"profile"===this.state.activeStory,"data-story":"profile",text:"profile"===this.state.activeStory?"\u0420\u0430\u0437\u043d\u043e\u0435":null},r.a.createElement(b.a,null))):null},r.a.createElement(f.E,{id:"home",activePanel:"home",popout:this.state.popout},r.a.createElement(R,{setPopout:function(t){return e.setState({popout:t})},setTabbar:function(t){return e.setState({tabbar:t})},id:"home"})),r.a.createElement(f.E,{id:"profile",activePanel:"profile"},r.a.createElement(Q,{id:"profile"})),r.a.createElement(f.E,{id:"greeting",activePanel:"greeting"},r.a.createElement(f.s,{id:"greeting",style:{position:"fixed"}},r.a.createElement(f.n,{slideWidth:"100%",align:"center",style:{height:"100vh"},slideIndex:this.state.slideIndex,onChange:function(t){return e.setState({slideIndex:t})},bullets:"light"},r.a.createElement("div",{style:{backgroundColor:"#8818d1",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("img",{className:"IntroImg",src:$.a,alt:"",style:{width:"300px",height:"300px",marginBottom:64}}),r.a.createElement(f.D,{level:"1",weight:"heavy",style:{color:"#fff",marginBottom:16,fontSize:"2.5em",textAlign:"center"}},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"),r.a.createElement(f.D,{level:"3",weight:"semibold",style:{color:"#fff",marginBottom:4,textAlign:"center"}},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440!"),r.a.createElement(f.D,{level:"5",weight:"semibold",style:{color:"#fff",textAlign:"center",marginBottom:48,padding:"0 10px"}},"\u0421\u0432\u0430\u0439\u043f\u043d\u0438 \u0432\u043b\u0435\u0432\u043e, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435."),r.a.createElement(f.j,null,r.a.createElement(f.d,{style:{cursor:"pointer"},size:"xl",mode:"commerce",onClick:function(){l.a.send("VKWebAppStorageSet",{key:"greeting",value:"true"}),e.setState({activeStory:"home",tabbar:!0}),document.documentElement.style.setProperty("--padding","calc(var(--safe-area-inset-bottom) + var(--tabbar_height))")}},"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c"))),r.a.createElement("div",{style:{backgroundColor:"#a3c6c7",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("img",{className:"IntroImg",src:Y.a,alt:"",style:{width:"300px",height:"300px",marginBottom:64}}),r.a.createElement(f.D,{level:"1",weight:"heavy",style:{color:"#fff",marginBottom:16,fontSize:"2.5em",textAlign:"center"}},"\u0424\u043e\u0440\u043c\u0430\u0442\u044b"),r.a.createElement(f.D,{level:"3",weight:"semibold",style:{color:"#fff",marginBottom:48,textAlign:"center",padding:"0 10px"}},"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0441\u0430\u043c\u044b\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a PNG, JPG, SVG \u0438 \u0442\u0430\u043a \u0434\u0430\u043b\u0435\u0435..."),r.a.createElement(f.j,null,r.a.createElement(f.d,{style:{cursor:"pointer"},size:"xl",mode:"commerce",onClick:function(){return e.setState({slideIndex:2})}},"\u0412\u0430\u0443"))),r.a.createElement("div",{style:{backgroundColor:"#fe96ce",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("img",{className:"IntroImg",src:ee.a,alt:"",style:{width:"300px",height:"300px",marginBottom:64}}),r.a.createElement(f.D,{level:"1",weight:"heavy",style:{color:"#fff",marginBottom:16,fontSize:"2.5em",textAlign:"center"}},"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"),r.a.createElement(f.D,{level:"3",weight:"semibold",style:{color:"#fff",marginBottom:48,textAlign:"center",padding:"0 10px"}},"\u0412\u0441\u0451 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438 \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b."),r.a.createElement(f.j,null,r.a.createElement(f.d,{style:{cursor:"pointer"},size:"xl",mode:"commerce",onClick:function(){l.a.send("VKWebAppStorageSet",{key:"greeting",value:"true"}),e.setState({activeStory:"home",tabbar:!0}),document.documentElement.style.setProperty("--padding","calc(var(--safe-area-inset-bottom) + var(--tabbar_height))")}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441!")))))))}}]),a}(r.a.Component);s.a.render(r.a.createElement(te,null),document.getElementById("root")),l.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"bright_light",document.body.attributes.setNamedItem(r)}})),l.a.send("VKWebAppInit")},53:function(e,t,a){e.exports=a.p+"static/media/ava.d549df08.png"}},[[170,1,2]]]);
//# sourceMappingURL=main.22b27cd1.chunk.js.map